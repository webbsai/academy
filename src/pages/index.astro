---
import { getCollection } from 'astro:content'
import BaseHead from '../components/BaseHead.astro'
import CarouselSection from '../components/CarouselSection.tsx'
import Footer from '../components/Footer.tsx'
import Header from '../components/Header.tsx'
import { RightArrow } from '../components/icons/icons.tsx'
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts'

const courses = (
	await getCollection('docs', doc => {
		return doc.id.split('/')[0] === 'Courses'
	})
).sort(
	(a, b) =>
		//@ts-ignore
		b.data.lastUpdated - a.data.lastUpdated
)

const lessons = (
	await getCollection('docs', doc => {
		return doc.id.split('/')[0] === 'Lessons'
	})
).sort(
	(a, b) =>
		//@ts-ignore
		b.data.lastUpdated - a.data.lastUpdated
)
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body class="bg-white dark:bg-black">
		<Header client:only />
		<!-- <Header title={SITE_TITLE} /> -->
		<main
			class="min-h-screen text-black bg-white vsc-initialized font-urbanist selection:text-primary dark:bg-black lg:pb-16 dark:text-white"
		>
			<section
				class="h-screen pt-24 mx-auto bg-center sm:pt-32 lg:mb-16 lg:pt-36"
			>
				<div
					class="mx-auto flex h-[calc(100vh-96px)] flex-col items-center justify-center gap-5 px-[70px] text-black -translate-y-24 relative px-4 dark:text-white sm:px-12 xl:max-w-6xl xl:px-0"
				>
					<div
						class="absolute px-4 sm:px-12 z-10 w-full h-full bg-white/[85%] dark:bg-black/[85%] top-24 flex flex-col gap-8 items-center justify-center text-center"
					>
						<h1
							class="text-3xl font-extrabold md:text-4xl lg:text-5xl xl:text-6xl"
						>
							Learn Everything You Need to Know
						</h1>
						<p class="text-xl md:text-2xl lg:text-3xl">
							The practical guide to WebbsAI, with tutorials and
							the best resources.
						</p>
						<div
							class="flex flex-col justify-center w-full gap-5 sm:flex-row"
						>
							<a
								class="px-5 py-4 rounded-[18px] bg-white text-black border hover:shadow-[0_0_2px_1px_rgba(150,150,150,1)] dark:hover:shadow-[inset_0_0_5px_1px_rgba(100,100,100,1)] transition-[box-shadow]"
								href="/courses">Get free courses</a
							>
							<a
								class="px-6 py-4 rounded-[18px] bg-[#202020] text-white dark:hover:shadow-[0_0_2px_1px_rgba(150,150,150,1)] hover:shadow-[inset_0_0_5px_1px_rgba(200,200,200,1)] transition-[box-shadow]"
								href="/resources">See Resources</a
							>
						</div>
					</div>
					<img
						src="/background-light.png"
						class="hidden max-h-full translate-y-24 dark:inline"
					/>
					<img
						src="/background.png"
						class="max-h-full translate-y-24 dark:hidden"
					/>
				</div>
			</section>

			<section class="mt-24">
				<div class="px-4 mx-auto sm:px-12 xl:max-w-6xl xl:px-0">
					<div class="flex flex-col">
						<div
							class="flex w-full flex-col rounded-[20px] p-6 bg-[#EEEEEE] dark:bg-[#131313] md:p-8 lg:p-12"
						>
							<div class="flex flex-col gap-16 md:flex-row">
								<div class="flex flex-col justify-center gap-5">
									<h3
										class="font-semibold text-2g md:text-3xl lg:text-5xl"
									>
										Free WebbsAI Courses
									</h3>
									<p
										class="mt-2 text-base md:text-lg lg:text-xl"
									>
										Learn how to create stunning websites
										with ease by learning the fundamentals
										of WebbsAI.
									</p>
									<a
										href="/lessons"
										class="px-5 w-fit py-4 rounded-[18px] dark:bg-white bg-black text-white dark:text-black hover:shadow-[inset_0_0_5px_1px_rgba(200,200,200,1)] dark:hover:shadow-[inset_0_0_5px_1px_rgba(100,100,100,1)] transition-[box-shadow]"
										>Start Learning Now</a
									>
								</div>
								<div class="w-full h-full">
									<img
										src="/assets/toolboxes.svg"
										class="block w-full h-full m-auto"
									/>
								</div>
							</div>
						</div>

						<div class="flex flex-col gap-4 mt-4 md:flex-row">
							<div
								class="flex w-full flex-col rounded-[20px] p-6 bg-[#EEEEEE] dark:bg-[#131313] md:w-2/5 md:p-8 lg:p-12"
							>
								<div>
									<h3
										class="text-lg font-semibold md:text-xl lg:text-2xl"
									>
										Getting Started
									</h3>
									<p
										class="mt-2 text-sm md:text-base lg:text-lg"
									>
										Learn the basics of WebbsAI and start
										building your first website with AI.
									</p>
								</div>
							</div>
							<div
								class="flex w-full flex-col rounded-[20px] p-6 bg-[#EEEEEE] dark:bg-[#131313] md:w-3/5 md:p-8 lg:p-12"
							>
								<div>
									<h3
										class="text-lg font-semibold md:text-xl lg:text-2xl"
									>
										Core Skills
									</h3>
									<p
										class="mt-2 text-sm md:text-base lg:text-lg"
									>
										Master responsive design, AI-powered
										visual editor, animations, interactions,
										prototyping and CMS integration
									</p>
								</div>
							</div>
						</div>

						<div class="flex flex-col gap-4 mt-4 md:flex-row">
							<div
								class="flex w-full flex-col rounded-[20px] p-6 bg-[#EEEEEE] dark:bg-[#131313] md:w-3/5 md:p-8 lg:p-12"
							>
								<div>
									<h3
										class="text-lg font-semibold md:text-xl lg:text-2xl"
									>
										Web Types
									</h3>
									<p
										class="mt-2 text-sm md:text-base lg:text-lg"
									>
										Gain effortless control of all CSS
										design properties with a single click
									</p>
								</div>
							</div>
							<a
								href="/resources"
								class="flex w-full flex-col rounded-[20px] p-6 bg-[#EEEEEE] dark:bg-[#131313] md:w-2/5 md:p-8 lg:p-12"
							>
								<div>
									<h3
										class="text-lg font-semibold md:text-xl lg:text-2xl"
									>
										Resources
									</h3>
									<p
										class="mt-2 text-sm md:text-base lg:text-lg"
									>
										Find the best tutorials, articles, and
										other resources to help you learn
										WebbsAI.
									</p>
								</div>
							</a>
						</div>
					</div>
				</div>
			</section>

			<section class="mt-24">
				<div class="px-4 mx-auto sm:px-12 xl:max-w-6xl xl:px-0">
					<h2
						class="text-3xl font-bold text-center md:text-4xl lg:text-5xl xl:text-6xl"
					>
						Get started with our<br />WebbsAI lessons
					</h2>
					<p
						class="mt-8 text-lg text-center md:text-xl lg:text-2xl text-black/70 dark:text-white/70"
					>
						Learn how to generate powerful websites to grow your
						business and gain a competitive edge from the start
					</p>
					<div class="mt-16">
						<CarouselSection lessons={lessons} client:only />
					</div>
				</div>
			</section>

			<section class="mt-24">
				<div class="px-4 mx-auto sm:px-12 xl:max-w-6xl xl:px-0">
					<h2
						class="text-3xl font-bold text-center md:text-4xl lg:text-5xl xl:text-6xl"
					>
						WebbsAI Courses
					</h2>
					<a
						href="/courses"
						class="flex items-center justify-center gap-4 mt-8 text-lg md:text-xl lg:text-2xl"
					>
						<span class="underline">Explore all</span><RightArrow
							className="invert dark:invert-0"
						/>
					</a>
					<div
						class="grid items-center grid-cols-1 mt-16 sm:grid-cols-2 md:grid-cols-3 gap-7"
					>
						{
							courses?.length > 0 ? (
								courses.slice(0, 3)?.map(course => (
									<a href={course.slug}>
										<div class="bg-[#EEEEEE] dark:bg-[#131313] p-5 pb-8 flex flex-col gap-5 rounded-[20px]">
											<img
												src={
													course.data.banner!
														.content as string
												}
												class="h-[200px] rounded-[20px]"
											/>
											<h3 class="text-base truncate md:text-lg lg:text-xl">
												{course.data.title}
											</h3>
											<p class="text-xs lg:text-sm text-black/70 dark:text-white/70 max-h-[80px] overflow-hidden">
												{course.data.description}
											</p>
										</div>
									</a>
								))
							) : (
								<h3 class="col-span-4 text-xl font-semibold text-center">
									Stay Tuned for the Upcoming Content
								</h3>
							)
						}
					</div>
				</div>
			</section>

			<section class="my-24">
				<div class="px-4 mx-auto sm:px-12 xl:max-w-6xl xl:px-0">
					<div class="flex flex-col w-full">
						<div class="flex flex-col gap-16 md:flex-row">
							<div class="flex flex-col justify-center gap-5">
								<h3
									class="font-semibold text-2g md:text-3xl lg:text-5xl"
								>
									Read our WebbsAI University Blogs
								</h3>
								<p
									class="mt-2 text-base md:text-lg lg:text-2xl"
								>
									Get insights and business solutions on what
									our community has to offer.
								</p>
								<a
									href="/blogs"
									class="px-5 w-fit py-4 rounded-[18px] dark:bg-white bg-black text-white dark:text-black hover:shadow-[inset_0_0_5px_1px_rgba(200,200,200,1)] dark:hover:shadow-[inset_0_0_5px_1px_rgba(100,100,100,1)] transition-[box-shadow]"
									>See all blogs</a
								>
							</div>
							<div class="w-full h-full">
								<img
									src="/assets/blogs.png"
									class="w-full h-full"
								/>
							</div>
						</div>
					</div>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>
